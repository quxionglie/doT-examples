<!DOCTYPE HTML>
<html>
<head>
		<script src="../doT.min.js" type="text/javascript"></script>
</head>
<body>
	
<script id="header1tmpl" type="text/x-dot-template">
{{##def.template2:param:
	<div>{{=param.title1}}</div>
	<div>{{=param.name}}</div>
#}}
</script>

	
<script id="header2tmpl" type="text/x-dot-template">
	<div>{{=it.title2}}</div>
	<div>{{=it.name}}</div>
</script>

<script id="pagetmpl" type="text/x-dot-template">
{{#def.header1}}

{{#def.template2:it}}

<hr/>
{{#def.header2}}

</script>

<div id="content"></div>
</body>

<script type="text/javascript">
	    var def = {
			header1: document.getElementById('header1tmpl').text,
			header2: document.getElementById('header2tmpl').text			
		};

		var data = {
			title1: "My title--1",
			title2: "My title--2",
			name: "My name"
		};

		var pagefn = doT.template(document.getElementById('pagetmpl').text, undefined, def);
		
		var text = pagefn(data);
		console.log(text);
		document.getElementById('content').innerHTML = text;
</script>

<!-- console out :
<div>My title--1</div><div>My name</div><hr/><div>My title--2</div><div>My name</div>
-->

</html>